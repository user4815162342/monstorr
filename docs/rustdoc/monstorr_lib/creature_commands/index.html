<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate implements the syntax for creature files."><meta name="keywords" content="rust, rustlang, rust-lang, creature_commands"><title>monstorr_lib::creature_commands - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../monstorr_lib/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../monstorr_lib/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module creature_commands</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li></ul></div></section><div id="sidebar-vars" data-name="creature_commands" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../monstorr_lib/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">monstorr_lib</a>::<wbr><a class="mod" href="#">creature_commands</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/monstorr_lib/creature_commands.rs.html#9-1854">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate implements the syntax for creature files.</p>
<h2 id="rusty-object-notation"><a href="#rusty-object-notation">Rusty-Object Notation</a></h2>
<p>If you just want to see the syntax, and aren’t interested in rust programming details, you can skip this section.</p>
<p>Creature files follow a serialization format convention called RON, or Rusty-Object Notation. This format is related to how programs written print debug information about data structures. The main reason this format is used is because I don’t have to write a special parser, as that code is already available through combination with the <code>serde</code> crate. RON has two features that make it great for this usage:</p>
<ul>
<li>Structures are tagged outside the enclosing data, so there’s no need for a ‘type’ property on every object, which would make writing these creatures frustratingly wordy.</li>
<li>RON automatically deduces the namespace of objects based on their context. This removes the need to specify the type of an enum variant when it’s in use. This essentially turns the creature command data structure into context-sensitive functions.</li>
</ul>
<h2 id="basic-syntax"><a href="#basic-syntax">Basic Syntax</a></h2>
<p>RON files are encoded in utf-8. The RON notation supports several basic values. There are a few more than what is described here, but those are not used in creature commands. Some of these are called differently in the official spec.</p>
<p><em>Numbers.</em> Numbers are written as you’d expect. They can be signed, and include decimals and scientific exponent parts (‘e+2’). Most of the types here require simple integers, but floating point values are legal in the appropriate context. The context determines the type required, and will often limit the range of the numbers due to the data type the numbers are stored in. In the documentation, these values shown as <code>&lt;integer&gt;</code> or <code>&lt;number&gt;</code> if the number is not an integer.</p>
<p><em>Strings.</em> Strings are written using double-quotes. Conventional c-style escape sequences are allowed for certain control characters, and characters derived from unicode hex values. In the documentation, these values are shown as <code>&lt;string&gt;</code></p>
<p><em>Booleans.</em> Occasionally, you may find boolean (on/off) values, which are written simply as ‘true’ or ‘false’. In the documentation, these values are shown as <code>&lt;boolean&gt;</code></p>
<p><em>List.</em> A list value is written between brackets, with the items separated by commas (<code>[ value, ...]</code>). The type of values allowed in the list depends on the context. In the documentation, these values are shown as <code>[&lt;type&gt;...]</code>.</p>
<p><em>Map.</em> A mapping of keys to values. This is represented as comma-separated pairs inside brackets (<code>{ value: value, ...}</code>). In general the keys are strings, but they can be any type as long as they are all the same. Values must all be the same type as well. This is rarely used, but it is used at least once. In the documentation, these values are shown as <code>&lt;map(&lt;key type&gt;, &lt;value type&gt;)&gt;</code>.</p>
<p><em>Tuple Structs.</em> A tuple struct is represented by list of plain values in parentheses, with the values separated by commas (<code>( value, ..)</code>). The empty tuple (<code>()</code>) is called the unit struct. This is different from a list, which has a variable length of values all of the same type. A tuple has a specific length and can require different value types for each member. Sometimes, the later items in the tuple can be skipped if they are optionals. In the documentation, these values are shown as <code>(&lt;type&gt;,...)</code>. If a value is not required, the documentation will show all the possible signatures.</p>
<p><em>Mapped Structs.</em> A named struct is similar to a tuple struct, but each value is associated with a named property, which is followed by a colon (<code>( property: value, ..)</code>). The required fields in this struct, and their value types, depend on the context they are used. In the documentation, these values are shown as <code>( &lt;property&gt;: &lt;type&gt;,...)</code>. If a property is not required, it will be shown with a question mark after.</p>
<p><em>Tagged Variants.</em> Some values are differentiated by a tag because more than one value is allowed in the context. Each of these is represented by a simple identifier, usually capitalized on the first character. A tagged variant can have associated data, which is represented by following that tag either by a tuple struct or a mapped struct. In the documentation, these values are shown by the identifier.</p>
<p><em>Optionals.</em> A special case of tagged variants is the optionals. These are represented with the simple tag <code>None</code>, representing a value that doesn’t exist, and a tagged tuple <code>Some(..)</code> representing the actual value. In many cases, if the value is None, it can also be skipped. For example, if a mapped struct has a property <code>foo</code> which should hold an optional string, it doesn’t have to be specified if that value would be None. In the documentation, these values are shown as <code>optional(&lt;type&gt;)</code>.</p>
<p>The last part, the tagged variants, allow us to create what vaguely looks like a function in other languages.</p>
<h2 id="dice-expressions"><a href="#dice-expressions">Dice Expressions</a></h2>
<p>Some of the arguments require dice expressions. As RON has no concept of dice, these are always passed sa strings, which must match a specific pattern. There are three types of these:</p>
<p><em>Die String.</em> This is a reference to a single die type, in the format “d6” or “d8”. In the documentation, these values are shown with <code>&lt;die-string&gt;</code>.</p>
<p><em>Dice String.</em> This is a reference to a die and the number of times it is rolled, in the format “1d4” or “2d10”. In the documentation, these values are shown with <code>&lt;dice-string&gt;</code>.</p>
<p><em>Dice Expression.</em> This is a reference to a full dice expression, including bonuses, additional terms, etc, in formats like “3d6 + 10” or “2d4 - 1d10 + 2”. They can get slightly more complex than that, as each dice term could be accompanied by a multiplication factor, but you are unlikely to need that. In the documentation, these values are shown with <code>&lt;dice-expression-string&gt;</code>.</p>
<h2 id="interpolation"><a href="#interpolation">Interpolation</a></h2>
<p>Some of the structures allow for strings containing interpolation variables, which allow you to generate this text based on the creature values. This is not part of the RON syntax, but something programmed specifically for Monstorr. For more information on this interpolation syntax, see <a href="../interpolation/index.html" title="crate::interpolation"><code>crate::interpolation</code></a>. For a list of the variables available in the interpolation, see <a href="../creature/struct.Creature.html" title="crate::creature::Creature"><code>crate::creature::Creature</code></a>.</p>
<h2 id="creature-document-structure"><a href="#creature-document-structure">Creature Document Structure</a></h2>
<p>For a description fo the basic creature document structure, see <a href="struct.CreatureCreator.html" title="CreatureCreator"><code>CreatureCreator</code></a>, which is the structure deserialized from a creature file.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CreatureCreationHooks.html" title="monstorr_lib::creature_commands::CreatureCreationHooks struct">CreatureCreationHooks</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CreatureCreator.html" title="monstorr_lib::creature_commands::CreatureCreator struct">CreatureCreator</a></div><div class="item-right docblock-short"><p><code>([&lt;CreatureCommand&gt;...])</code></p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.CreatureCommand.html" title="monstorr_lib::creature_commands::CreatureCommand enum">CreatureCommand</a></div><div class="item-right docblock-short"><p>A CreatureCommand represents a task that is completed in the process of creating a creature to generate a stat block. Most of the commands set or add data to the resulting creature. A few commands have other effects, or remove data that has been added. </p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InnateSpellcastingCommand.html" title="monstorr_lib::creature_commands::InnateSpellcastingCommand enum">InnateSpellcastingCommand</a></div><div class="item-right docblock-short"><p>These commands add information to a creature’s innate spellcasting feature.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SpellcastingCommand.html" title="monstorr_lib::creature_commands::SpellcastingCommand enum">SpellcastingCommand</a></div><div class="item-right docblock-short"><p>These commands add information to a creature’s spellcasting feature.</p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MONSTORR_VERSION.html" title="monstorr_lib::creature_commands::MONSTORR_VERSION constant">MONSTORR_VERSION</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="monstorr_lib" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0 (fe5b13d68 2022-05-18)" ></div>
</body></html>